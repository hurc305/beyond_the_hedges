<!doctype><html><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>HURC305 Template</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/x-icon" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">
  <link rel="icon" type="image/png" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">

  <link rel="stylesheet" href="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/themes/css/cartodb.css">
  <link rel="stylesheet" href="http://cartodb.github.io/odyssey.js/sandbox/css/slides.css">
  <link rel="stylesheet" href="css/custom_style.css" type="text/css" media="screen">
  
  <script src="http://cartodb.github.io/odyssey.js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>
  <div id="map" style="width: 100%; height: 100%;"></div>

  <div id="slides_container" style="display:block;">
    <ul id="navButtons">
      <li><a class="prev"></a></li>
      <li><a class="next"></a></li>
    </ul>
	<div id="dots"></div>
    <div id="slides"></div>
  </div>

  <div id="credits">
    <span class="title" id="title">Beyond The Hedges</span>
    <span class="author"><strong id="author">HURC305 | Fall 2015</strong> <a href="http://cartodb.github.io/odyssey.js/">Odyssey.js</a><span>
  </span></span></div>
<a href="odyssey_template.html" id="" title="odyssey_template">odyssey_template</a>
  <script src="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/cartodb.js"></script>
  <script src="http://cartodb.github.io/odyssey.js/dist/odyssey.js" charset="UTF-8"></script>

  <script>
  //----GLOBAL VARIABLES-----\\
  var alllayers = [];
  var sublayers = [];
  var layerCount = 0;

	var resizePID;

    function clearResize() {
      clearTimeout(resizePID);
      resizePID = setTimeout(function() { adjustSlides(); }, 100);
    };

    if (!window.addEventListener) {
      window.attachEvent("resize", function load(event) {
        clearResize();
      });
    } else {
      window.addEventListener("resize", function load(event) {
        clearResize();
      });
    };

    function adjustSlides() {
      var container = document.getElementById("slides_container"),
          slide = document.querySelectorAll('.selected_slide')[0];

      if (slide) {
        if (slide.offsetHeight+169+40+80 >= window.innerHeight) {
          container.style.bottom = "80px";

          var h = container.offsetHeight;

          slide.style.height = h-169+"px";
          slide.classList.add("scrolled");
        } else {
          container.style.bottom = "auto";
          container.style.minHeight = "0";

          slide.style.height = "auto";
          slide.classList.remove("scrolled");
        }
      }
    };

    var resizeAction = O.Action(function() {
      function imageLoaded() {
        counter--;

        if (counter === 0) {
          adjustSlides();
        }
      }
      var images = $('img');
      var counter = images.length;

      images.each(function() {
        if (this.complete) {
          imageLoaded.call( this );
        } else {
          $(this).one('load', imageLoaded);
        }
      });
    });
	
 // ADDED an action to the O.Parallel actions under _resetActions below
 // This is probably not an ideal hack, but avoids having to dig into the Odyssey.JS source code
 // uses CSS to hide h5 elements from the markdown (#####) where visible layers are stored
 // jQuery used to retrieve the values and compare them against the  array of sublayers

toggleLayer = function toggleLayer() {
    return O.Action({
      enter: function() {
		  var vlayers = $(".selected_slide h4");
		  var hlayers = $(".selected_slide h5");
		  vlayers.each(function(){
			  layer_selection = $(this).text();
			  ls = layer_selection.split(",");
			  tl = ls[0];
			  ts = ls[1];
			  alllayers[tl].getSubLayer(ts).show();
		  });
		  hlayers.each(function(){
			  layer_selection = $(this).text();
			  ls = layer_selection.split(",");
			  tl = ls[0];
			  ts = ls[1];
			  alllayers[tl].getSubLayer(ts).hide();
		  });
	  }
    });
};
	

    function click(el) {
      var element = O.Core.getElement(el);
      var t = O.Trigger();

      //TODO: clean properly
      function click() {
        t.trigger();
      }

      if (element) element.onclick = click;

      return t;
    };
	
	// function to add HTML to layer selector
	function createSelector(l_id,lname,slayer){
		$('#lselect ul').append('<li class="layer-toggle" id ='+l_id+'>'+lname+'<span style = "font-size:80%; color:gray;"> ('+l_id+')</span></li>');
		$('#'+l_id).click(function(){
			slayer.toggle();
		});
	}

    O.Template({
      init: function() {
		var seq = O.Triggers.Sequential();

        var baseurl = this.baseurl = 'http://{s}.api.cartocdn.com/base-light/{z}/{x}/{y}.png';
        var map = this.map = L.map('map').setView([0, 0.0], 4);
        var basemap = this.basemap = L.tileLayer(baseurl, {
          attribution: 'data OSM - map CartoDB'
        }).addTo(map);

        // enanle keys to move
        O.Keys().on('map').left().then(seq.prev, seq)
        O.Keys().on('map').right().then(seq.next, seq)
		
		//log lat and lon of mouse click on map -- can/should be disabled
		map.on('click', function(e) {
		    console.log("Lat, Lon : " + e.latlng.lat + ", " + e.latlng.lng);
			console.log("Zoom: " + this.getZoom());
		});
        
		click(document.querySelectorAll('.next')).then(seq.next, seq)
        click(document.querySelectorAll('.prev')).then(seq.prev, seq)

        var slides = O.Actions.Slides('slides');
        var story = O.Story()

        this.story = story;
        this.seq = seq;
        this.slides = slides;
        this.progress = O.UI.DotProgress('dots').count(0);
      },

      update: function(actions) {
		var self = this;
        if (!actions.length) return;

        this.story.clear();

        if (this.baseurl && (this.baseurl !== actions.global.baseurl)) {
          this.baseurl = actions.global.baseurl || 'http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png';

          this.basemap.setUrl(this.baseurl);
        }

        var layerUrls = ['https://racheljgalton.cartodb.com/api/v2/viz/19d544ee-9539-11e5-8857-0e674067d321/viz.json',
						 'https://racheljgalton.cartodb.com/api/v2/viz/e34906d6-9ec5-11e5-ac7a-0ecd1babdde5/viz.json',
   						'https://racheljgalton.cartodb.com/api/v2/viz/5eed35c0-6161-11e5-9095-0e853d047bba/viz.json'
    					  ];
  	   		     var layerCount = 0;
		
				 for (lr in layerUrls){
	 			  cartodb.createLayer(self.map, layerUrls[lr])
	                 .done(function(layer) {
					   
	                   self.cartoDBLayer = layer;
				  //add information to layer selector
				  alllayers.push(layer);
				 
				  for (var i = 0; i < layer.getSubLayerCount(); i++) {
					  var sublayer = {
						  				id:"",
						  				name:"",
						  				slayer:"",
						  				parent:""
						  				
					  }
					  sublayer.slayer = layer.getSubLayer(i);
					  sublayer.id = layerCount+"_"+i;
					  sublayer.name = layer.options.layer_definition.layers[i].options.layer_name;
					  createSelector(sublayer.id,sublayer.name,sublayer.slayer);
					  sublayer.slayer.hide();
					  //add layer to the sublayers array
					  sublayers.push(i);
					  $(".cartodb-legend-stack").css("display","none");		
							}
				  layerCount += 1;
				  self.map.addLayer(layer);
                  self._resetActions(actions);
                }).on('error', function(err) {
                  console.log("some error occurred: " + err);
                });
            } //end of for all layers loops
            this.created = true;
          
          return;

        this._resetActions(actions);
      },

      _resetActions: function(actions) {
        // update footer title and author
        var title_ = actions.global.title === undefined ? '' : actions.global.title,
            author_ = actions.global.author === undefined ? 'Using' : 'By '+actions.global.author+' using';

        document.getElementById('title').innerHTML = title_;
        document.getElementById('author').innerHTML = author_;
        document.title = title_ + " | " + author_ +' Odyssey.js';

        var sl = actions;
 	   
        document.getElementById('slides').innerHTML = ''
        this.progress.count(sl.length);

        // create new story
        for(var i = 0; i < sl.length; ++i) {
          var slide = sl[i];
          var tmpl = "<div class='slide' style='diplay:none'>";
		  
          tmpl += slide.html();
          tmpl += "</div>";
          document.getElementById('slides').innerHTML += tmpl;

          this.progress.step(i).then(this.seq.step(i), this.seq)
		  //var visible_layer = i;//temporary, this should be set to layer from viz.json
          var actions = O.Parallel(
            this.slides.activate(i),
            slide(this),
            this.progress.activate(i),
            resizeAction,
			toggleLayer()
          );

          actions.on("finish.app", function() {
            adjustSlides();
          });

          this.story.addState(
            this.seq.step(i),
            actions
          )
        }

        this.story.go(this.seq.current());
	    
		},

      changeSlide: function(n) {
        this.seq.current(n);
      }
	}	); 
  </script>

  <script>
    /*(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-20934186-21', 'cartodb.github.io');
    ga('send', 'pageview');*/
  </script>
<!-->
  <script type="text/javascript" src="http://fast.fonts.net/jsapi/3af16084-ba56-49ca-b37d-0b49b59e1927.js"></script>
-->
<script id="md_template" type="text/template">
```
-title: "Missing in Houston"
-author: "Rachel Galton"
- vizjson: "https://alextarr.cartodb.com/api/v2/viz/ff1be026-985e-11e5-90e5-0ecfd53eb7d3/viz.json"
```

#Missing in Houston
```
- center: [29.74589783319499, -95.36476135253906]
- zoom: 11
```
#### 0,3

![houston parking lots](http://i.imgur.com/CLl2eiJ.png) What's missing in Houston? Houston is a city known for its copious amounts of space, as 6 of the other major U.S. cities, including Chicago and San Francisco, can fit inside Houston's land mass. The maps are clear--Houston is a very big and sprawling space. Yet the map represents a concept of what *is* rather than what is not. Though map readers can understand the spaces that constitute the city of Houston, they do not demonstrate the spaces within those boundaries that are in fact "antispaces, making no positive contribution to the surrounding or users" (Trancik 4). This photo of downtown Houston from the late 20th century shows the majority of Houston as an antispace of parking lots, hardly feeling urban at all. Though Houston is one of the largest cities in the United States, both its downtown and outlying areas have long had these gaps in urban space. These antispaces inform how we think about Houston and what the city is and could be. [Trancik, Roger. Finding Lost Space: Theories of Urban Design. Van Nostrand Reinhold Company, 1986. Print.]

#Streetcar City
```
- center: [29.75916172055687, -95.36235809326172]
- zoom: 13
```
#### 0,0

![houston street car](http://members.iglou.com/baron/mandell.jpg) The long-standing Houston myth is that it has forever been an automobile-centric city. Because of the way Houston developed with a focus on the highway system, extensive public transit is simply not possible for the region. While the premise about the highway system has certainly held true since the mid-twentieth century, Houston is no stranger to public transit, having boasted an elaborate and extensive streetcar system.

#Streetcar City
```
- center: [29.75916172055687, -95.36235809326172]
- zoom: 13
```
##### 0,0
#### 1,0

![houston street car] (http://members.iglou.com/baron/harrisburg.jpg) The streetcar system, which clearly was much more extensive than existing and planned MetroRail gradually stopped running between the 1930s and 1950s. is an example of one type of missing space in Houston--lost space, or space that used to exist but no longer does. The erasure of this piece of the history of Houston transportation informs the way we think about the possibilities for moving through the city and perpetuates the  idea that certain spaces have belonged and will always belong to the automobile. For transit riders, these spaces are effectively erased from our map of transit in Houston.


#Transit Plans
```
- center: [29.759012697864655, -95.36613464355469]
- zoom: 11
```
##### 0,0
##### 1,0
#### 0,1
#### 0,2
Fasting forward to the 1970s and 1980s, transit authorities considered major plans for both Rapid Transit and regional rail lines. These rejected plans provide insight into the way Houston could have developed. One can only imagine the difference in the shape and structure of Houston if it were a denser central city with rails branching out instead of the distinctive Houston shape of several large loops connecting the spread out inner ring to the even more sprawling outlying areas. 

#Transit Plans
```
- center: [29.759012697864655, -95.36613464355469]
- zoom: 11
```
##### 0,1
##### 0,2
#### 1,1
#### 1,2
These plans demonstrate a second type of missing space in Houston: space that was proposed or planned but never existed. These spaces represent the possibility of a different Houston. These spaces are lost to specific actors. Those suburban dwellers who benefited from the highway expansion saw their personal relationship to space in Houston expand dramatically, while Houston transit riders lost the potential of access to new spaces. Ironically, the same debates over the same spaces played out again in 2012, with suburban voters again voting to allocate more money to highway expansion than public transit (Shelton 2014). [Shelton, Kyle. “What Old Transit Maps Can Teach Us About a City’s Future.” CityLab, October 10, 2014. http://www.citylab.com/commute/2014/10/what-old-transit-maps-can-teach-us-about-a-citys-future/381149/.]

#Missing spaces
```
- center: [29.76318524947452, -95.36115646362305]
- zoom: 13
```
#### 1,0
#### 1,1
#### 1,2
##### 0,3
Maps often reveal what is in a space rather than what is not. Yet there is as much meaning in what is not in a space as what is. Maps can show food stores, but they usually do not show food deserts. Though a food desert may be defined by a lack of something, it is still equally a space. What is not a downtown skyscraper is a parking or vacant lot. Often, spaces are missing for specific groups. An area where there are no gender-neutral bathrooms effectively erases those buildings off the map for transgender people who need those spaces. Mapping where there are *not* bike lanes could indicate spaces and streets that effectively do not exist for those riding on two wheels. By erasing parts of maps, we can begin to see the spaces that various users see. By looking at missing transit in Houston, we can begin to see the gulf between past actualized and imagined possibilities and the current day situation. Though the typical map would clearly delineate these streets and areas as spaces, we ought to be asking: spaces for whom? By mapping what is missing, we can begin to imagine how these spaces might be re-appropriated.

#Tactical Urbanism
```
- center: [29.754541914052, -95.36991119384766]
- zoom: 12
```
##### 0,3
##### 1,1
##### 1,2
##### 1,0
#### 2,0
#### 2,1
#### 2,2

![tacturb](https://kpbs.media.clients.ellingtoncms.com/img/photos/2014/03/13/Sign_Picture_t1200.jpg?57a0c2296240c280e9492005c3cad63e7cbe80f4)
Tactical urbanism is defined as “a city and/or citizen-led approach to neighbourhood building using short-term, low-cost, and scaleable interventions intended to catalyse long term change” (Lydon and Garcia 2015). These urban interventions draw attention to spaces thatare neglected or misused. Tactical urbanists use temporary installations to draw attention to this lost space and reappropriate it to benefit citizens. These interventions, such as ‘chair-bombing,’ in which activists put chairs in spaces that lack public seating, take advantage of both unappropriated spaces like “vacant lots, empty storefronts, overly wide streets, highway underpasses, surface parking lots, and other underused public spaces” as well as what they perceive to be misappropriated spaces, like car-centric intersections that need “guerilla crosswalks” or streets that could be appropriated for play (Lydon and Garcia 6). Before Lydon and Garcia of the Streets Plan Collaborative formally deemed this process “tactical urbanism,” other activists for centuries had been causing disruptions and seeking to redefine public spaces (Hou). Lydon and Garcia describe these movements as “the latest response to our basic human instincts: incremental and self-directed action toward increasing social capital, economic opportunity, access to food, safety from natural and human enemies, and general livability” (Lydon and Garcia 25). Transit is only one example of a case study of missing space in Houston, but tactical urbanists draw attention to others. Tactical urbanists respond to a large variety of different needs, like repurposing old billboards into swingsets or reappropriating parking spaces for activities like  mini-golf or yoga. [Lydon, Mike, and Anthony Garcia. Tactical Urbanism. Island Press, 2015. Print.]

#Tactical Urbanism
```
- center: [29.78493931022944, -95.39703369140625]
- zoom: 12
```
##### 1,1
##### 1,2
#### 2,0
#### 2,1
#### 2,2
![tacturb](http://api.ning.com/files/XYiv7fIdv4jU18TG0ZJL46vbLxsjoDEUcGbeEtyorHy9ELDuJzaq92UqqJBH-9-q-zj5usWuv9ZAmGsqEAjyw*N3fuGpRZYN/PARK_ing_DAY2012.jpg)
Tactical urbanist efforts are a way to remedy what is “missing” in a city. Anti-mapping, or mapping the spaces that are “missing” in whatever sense of the word, is perhaps a tactical urbanist effort. Garcia and Lydon describe their method “visually demonstrating the possibility of change” (Lydon and Garcia 12).  This map draws attention to just one case study of missing space in Houston and invites viewers to consider how they might interact differently with the built environment of Houston. Viewers are invited to make their own suggestions for spaces that could be anti-mapped in order incite Houstonians to consider the appropriation and use of space in the city. Feedback and ideas are welcome at rjg9@rice.edu.
</script>

</body></html>